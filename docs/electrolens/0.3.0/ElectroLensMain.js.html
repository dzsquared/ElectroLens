<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ElectroLensMain.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="PCA.html">PCA</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#.load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getCumulativeVariance">getCumulativeVariance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getEigenvalues">getEigenvalues</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getEigenvectors">getEigenvectors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getExplainedVariance">getExplainedVariance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getLoadings">getLoadings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#getStandardDeviations">getStandardDeviations</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#invert">invert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#predict">predict</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="PCA.html#toJSON">toJSON</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.MTLLoader.MaterialCreator.html">MaterialCreator</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html">OBJLoader2</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#load">OBJLoader2#load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#parse">OBJLoader2#parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#parseText">OBJLoader2#parseText</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#setDebug">OBJLoader2#setDebug</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#setMaterials">OBJLoader2#setMaterials</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#setPath">OBJLoader2#setPath</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.html#.OBJLoader2#setSceneGraphBaseNode">OBJLoader2#setSceneGraphBaseNode</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html">WWOBJLoader2</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#clearAllCallbacks">WWOBJLoader2#clearAllCallbacks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#prepareRun">WWOBJLoader2#prepareRun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#registerCallbackCompletedLoading">WWOBJLoader2#registerCallbackCompletedLoading</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#registerCallbackErrorWhileLoading">WWOBJLoader2#registerCallbackErrorWhileLoading</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#registerCallbackMaterialsLoaded">WWOBJLoader2#registerCallbackMaterialsLoaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#registerCallbackMeshLoaded">WWOBJLoader2#registerCallbackMeshLoaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#registerCallbackProgress">WWOBJLoader2#registerCallbackProgress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#run">WWOBJLoader2#run</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#setCrossOrigin">WWOBJLoader2#setCrossOrigin</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#setDebug">WWOBJLoader2#setDebug</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.html#.WWOBJLoader2#setRequestTerminate">WWOBJLoader2#setRequestTerminate</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html">WWOBJLoader2Director</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#deregister">WWOBJLoader2Director#deregister</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#enqueueForRun">WWOBJLoader2Director#enqueueForRun</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#getMaxQueueSize">WWOBJLoader2Director#getMaxQueueSize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#getMaxWebWorkers">WWOBJLoader2Director#getMaxWebWorkers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#prepareWorkers">WWOBJLoader2Director#prepareWorkers</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#processQueue">WWOBJLoader2Director#processQueue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2Director.html#.WWOBJLoader2Director#setCrossOrigin">WWOBJLoader2Director#setCrossOrigin</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.LoadedMeshUserOverride.html">LoadedMeshUserOverride</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer.html">PrepDataArrayBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer.html#.getCallbacks">getCallbacks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer.html#.setRequestTerminate">setRequestTerminate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer.html#.setSceneGraphBaseNode">setSceneGraphBaseNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataArrayBuffer.html#.setStreamMeshes">setStreamMeshes</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html">PrepDataCallbacks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html#.registerCallbackCompletedLoading">registerCallbackCompletedLoading</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html#.registerCallbackErrorWhileLoading">registerCallbackErrorWhileLoading</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html#.registerCallbackMaterialsLoaded">registerCallbackMaterialsLoaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html#.registerCallbackMeshLoaded">registerCallbackMeshLoaded</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataCallbacks.html#.registerCallbackProgress">registerCallbackProgress</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataFile.html">PrepDataFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataFile.html#.getCallbacks">getCallbacks</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataFile.html#.setRequestTerminate">setRequestTerminate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataFile.html#.setSceneGraphBaseNode">setSceneGraphBaseNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="THREE.OBJLoader2.WWOBJLoader2.PrepDataFile.html#.setStreamMeshes">setStreamMeshes</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="THREE.VolumeSlice.html">VolumeSlice</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Tweenable.html">Tweenable</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#arrangeMoleculeDataToFrame">arrangeMoleculeDataToFrame</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#axis">axis</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#canvas">canvas</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#canvasBuffer">canvasBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#clearProgressMessage">clearProgressMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#colorMapDict">colorMapDict</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#css">css</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ctx">ctx</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#ctxBuffer">ctxBuffer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#d3csvUpdateProgressBar">d3csvUpdateProgressBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#debugMessage">debugMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#detectCreateImageBitmap">detectCreateImageBitmap</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#Detector">Detector</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#dispose">dispose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#disposeMeshOrGroup">disposeMeshOrGroup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#drawLines">drawLines</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#endChunk">endChunk</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#endOfContent">endOfContent</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#flattenToBuffers">flattenToBuffers</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#geometryNeedsUpdate">geometryNeedsUpdate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getColor">getColor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getFocalLength">getFocalLength</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#handleFiles">handleFiles</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#handleViewSetup">handleViewSetup</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#index">index</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html">interpolate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isPlaying">isPlaying</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#load">load</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#mesh">mesh</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#nextChunk">nextChunk</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#normalizeLatticeVectors">normalizeLatticeVectors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#normalizeShadow">normalizeShadow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parse">parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#parseNode">parseNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#pause">pause</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#queueUpdateProgressBar">queueUpdateProgressBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readByte">readByte</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readChunk">readChunk</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readColor">readColor</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readDWord">readDWord</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readFaceArray">readFaceArray</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readFile">readFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readFloat">readFloat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readInputForm">readInputForm</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readInt">readInt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readMap">readMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readMaterialEntry">readMaterialEntry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readMaterialGroup">readMaterialGroup</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readMesh">readMesh</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readMeshData">readMeshData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readNamedObject">readNamedObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readShort">readShort</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readString">readString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#readWord">readWord</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#resetPosition">resetPosition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#.onchange">.onchange</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#GPUComputationRenderer">GPUComputationRenderer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#hilbert2D">hilbert2D</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#hilbert3D">hilbert3D</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#resume">resume</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#RollerCoasterGeometry">RollerCoasterGeometry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#sanitizeNodeName">sanitizeNodeName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#seek">seek</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#set">set</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setBezierFunction">setBezierFunction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setConfig">setConfig</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setFocalLength">setFocalLength</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setPath">setPath</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setProgressMessage">setProgressMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setScheduleFunction">setScheduleFunction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setViewOffset">setViewOffset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#SimplexNoise">SimplexNoise</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#stop">stop</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#streamUpdateProgressBar">streamUpdateProgressBar</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#tween">tween</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#unsetBezierFunction">unsetBezierFunction</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#volume">volume</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#WEBVR">WEBVR</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">ElectroLensMain.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let $ = jQuery = require('jquery');

import { initializeViewSetups } from "./MultiviewControl/initializeViewSetups.js";
import { initialize2DHeatmapSetup } from "./2DHeatmaps/initialize2DHeatmapSetup.js";
import { calculateViewportSizes } from "./MultiviewControl/calculateViewportSizes.js";

import { getPointCloudGeometry } from "./3DViews/PointCloud.js";
import { getMoleculeGeometry } from "./3DViews/MoleculeView.js";
import { addSystemEdge } from "./3DViews/systemEdge.js";
import { initialize3DViewTooltip, update3DViewTooltip, } from "./3DViews/tooltip.js";
import { hover3DViewSpatiallyResolved, hover3DViewMoleculeBall, hover3DViewMoleculeSprite, click3DViewMolecule, click3DViewSpatiallyResolved, gpuPickMolecule } from "./3DViews/selection.js";
import { combineData, readCSVSpatiallyResolvedData, readCSVMoleculeData, processSpatiallyResolvedData, processMoleculeData } from "./Utilities/readDataFile.js";


import { arrangeMoleculeDataToFrame2 } from "./Utilities/arrangeData.js";

import { readInputForm } from "./Utilities/readForm.js";
import { download } from "./Utilities/saveData.js";


import { setupOptionBox3DView } from "./3DViews/setupOptionBox3DView.js";
import { setupOptionBox2DHeatmap } from "./2DHeatmaps/setupOptionBox2DHeatmap.js";

import { setupViewCameraSceneController } from "./MultiviewControl/setupViewBasic.js";
import { addOptionBox, updateOptionBoxLocation, showHideAllOptionBoxes } from "./MultiviewControl/optionBoxControl.js";
import { setupHUD } from "./MultiviewControl/HUDControl.js";
import { updateController } from "./MultiviewControl/controllerControl.js";
import { getAxis, addTitle, update2DHeatmapTitlesLocation } from "./2DHeatmaps/Utilities.js";
import { initialize2DPlotTooltip, updateHeatmapTooltip, updateCovarianceTooltip/*, hoverHeatmap,clickHeatmap */ } from "./2DHeatmaps/tooltip.js";
import { selectionControl, updatePlaneSelection, hoverHeatmap, clickHeatmap } from "./2DHeatmaps/selection.js";
import { updateAllPlots, updateSelectionFromHeatmap, updateAllPlotsMolecule, updateAllPlotsMoleculeScale, updateAllPlotsSpatiallyResolved } from "./2DHeatmaps/Selection/Utilities.js";

import { fullscreenOneView } from "./MultiviewControl/calculateViewportSizes.js";

import { insertLegend/*, removeLegend, changeLegend, insertLegendMolecule, removeLegendMolecule, changeLegendMolecule*/ } from "./MultiviewControl/colorLegend.js";

import { calcDefaultScalesSpatiallyResolvedData, adjustColorScaleAccordingToDefaultSpatiallyResolvedData, calcDefaultScalesMoleculeData, adjustScaleAccordingToDefaultMoleculeData } from "./Utilities/scale.js";

if (typeof data !== 'undefined') {
	console.log(data);
	handleViewSetup(data);
}
else {
	console.log('starting');


	// THE INDEX JS

	/**
	 * @param  {} document
	 * @param  {} .ready(function(
	 */
	$(document).ready(function () {
		var next = 1;
		//   NUMBER3DVIEWS = 1;
		$(".add-more").click(function (e) {
			e.preventDefault();
			var addto = "#view" + next + "Form";
			var addRemove = "#view" + (next) + "Form";
			next = next + 1;
			NUMBER3DVIEWS += 1;

			var newIn = ''
			newIn += '&lt;div class="form-group" id="view' + next + 'Form">\
					&lt;h6 class="text-divider">&lt;span>View ' + next + '&lt;/span>&lt;/h6>\
					&lt;div class="form-group" id="view' + next + 'NameForm">\
					  &lt;label for="view' + next + 'Name">System Name: &lt;/label>\
					  &lt;input autocomplete="off" class="input" id="view' + next + 'Name" name="view' + next + 'Name" type="text" value="System' + next + '" data-items="8"/>\
					&lt;/div>\
					&lt;div class="form-group" id="view' + next + 'DimensionForm">\
					  &lt;label>System Dimensions: &lt;/label>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;input class="form-check-input" type="checkbox" value="yes" name="boolView' + next + 'CubicCell" id="boolView' + next + 'CubicCell" checked>\
						  &lt;label for="boolView' + next + 'CubicCell">Cubic Cell? &lt;/label>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'XDim">x dimension: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'XDim" name="view' + next + 'XDim" value="10">\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'YDim">y dimension: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'YDim" name="view' + next + 'YDim" value="10" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'ZDim">z dimension: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'ZDim" name="view' + next + 'ZDim" value="10" disabled>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;input class="form-check-input" type="checkbox" value="yes" name="boolView' + next + 'OrthogonalLattice" id="boolView' + next + 'OrthogonalLattice" checked>\
						  &lt;label for="boolView' + next + 'OrthogonalLattice">Orthogonal Lattice? &lt;/label>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;label>Lattice Vector: &lt;/label>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec11">u11: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec11" name="view' + next + 'LatVec11" value="1" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec12">u12: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec12" name="view' + next + 'LatVec12" value="0" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec13">u13: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec13" name="view' + next + 'LatVec13" value="0" disabled>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec21">u21: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec21" name="view' + next + 'LatVec21" value="0" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec22">u22: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec22" name="view' + next + 'LatVec22" value="1" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec23">u23: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec23" name="view' + next + 'LatVec23" value="0" disabled>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec31">u31: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec31" name="view' + next + 'LatVec31" value="0" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec32">u32: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec32" name="view' + next + 'LatVec32" value="0" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'LatVec33">u33: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'LatVec33" name="view' + next + 'LatVec33" value="1" disabled>\
						&lt;/div>\
					  &lt;/div>\
					&lt;/div>\
					&lt;div class="form-group" id="view' + next + 'SpatiallyResolvedForm" style="display:none;">\
					  &lt;div>\
						&lt;label for="view' + next + 'SpatiallyResolvedDataFilename">Data File for Spatially Resolved Data: &lt;/label>\
						&lt;input id="view' + next + 'SpatiallyResolvedDataFilename" name="view' + next + 'SpatiallyResolvedDataFilename" type="file" />\
					  &lt;/div>\
					  &lt;label>Number grid point: &lt;/label>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'XNumPoints">x: &lt;/label>\
						  &lt;input type="number" step=1 class="input" id="view' + next + 'XNumPoints" name="view' + next + 'XNumPoints" value="100">\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'YNumPoints">y: &lt;/label>\
						  &lt;input type="number" step=1 class="input" id="view' + next + 'YNumPoints" name="view' + next + 'YNumPoints" value="100" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'ZNumPoints">z: &lt;/label>\
						  &lt;input type="number" step=1 class="input" id="view' + next + 'ZNumPoints" name="view' + next + 'ZNumPoints" value="100" disabled>\
						&lt;/div>\
					  &lt;/div>\
					  &lt;label>Grid spacing: &lt;/label>\
					  &lt;div class="form-row">\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'XSpacing">x: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'XSpacing" name="view' + next + 'XSpacing" value="0.1">\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'YSpacing">y: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'YSpacing" name="view' + next + 'YSpacing" value="0.1" disabled>\
						&lt;/div>\
						&lt;div class="col">\
						  &lt;label for="view' + next + 'ZSpacing">z: &lt;/label>\
						  &lt;input type="number" step=any class="input" id="view' + next + 'ZSpacing" name="view' + next + 'ZSpacing" value="0.1" disabled>\
						&lt;/div>\
					  &lt;/div>\
					&lt;/div>\
					&lt;div class="form-group" id="view' + next + 'MolecularForm" style="display:none;">\
					  &lt;div>\
						&lt;label for="view' + next + 'MolecularDataFilename">Data File for Molecular Data: &lt;/label>\
						&lt;input id="view' + next + 'MolecularDataFilename" name="view' + next + 'MolecularDataFilename" type="file" />\
					  &lt;/div>\
					&lt;/div>\
				  &lt;/div>'

			var newInput = $(newIn);
			var removeBtn = '&lt;button id="remove' + (next - 1) + '" class="btn btn-danger remove-me" >Remove View&lt;/button>&lt;/div>&lt;div id="field">';
			var removeButton = $(removeBtn);
			$(addto).after(newInput);
			//$(addRemove).after(removeButton);
			//$("#field" + next).attr('data-source',$(addto).attr('data-source'));
			$("#count").val(next);

			document.getElementById('boolView' + next + 'CubicCell').onchange = function () {
				document.getElementById('view' + next + 'YDim').disabled = this.checked;
				document.getElementById('view' + next + 'ZDim').disabled = this.checked;
				document.getElementById('view' + next + 'YSpacing').disabled = this.checked;
				document.getElementById('view' + next + 'ZSpacing').disabled = this.checked;
				document.getElementById('view' + next + 'YNumPoints').disabled = this.checked;
				document.getElementById('view' + next + 'ZNumPoints').disabled = this.checked;
			};

			document.getElementById('boolView' + next + 'OrthogonalLattice').onchange = function () {
				document.getElementById('view' + next + 'LatVec11').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec12').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec13').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec21').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec22').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec23').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec31').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec32').disabled = this.checked;
				document.getElementById('view' + next + 'LatVec33').disabled = this.checked;
			};


			document.getElementById('view' + next + 'XDim').onchange = function () {
				if (document.getElementById('boolView' + next + 'CubicCell').checked) {
					document.getElementById('view' + next + 'YDim').value = document.getElementById('view' + next + 'XDim').value;
					document.getElementById('view' + next + 'ZDim').value = document.getElementById('view' + next + 'XDim').value;
					document.getElementById('view' + next + 'YSpacing').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YNumPoints').value;
					document.getElementById('view' + next + 'ZSpacing').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZNumPoints').value;
				}
				document.getElementById('view' + next + 'XSpacing').value = document.getElementById('view' + next + 'XDim').value / document.getElementById('view' + next + 'XNumPoints').value;
			}

			document.getElementById('view' + next + 'XSpacing').onchange = function () {
				if (document.getElementById('boolView' + next + 'CubicCell').checked) {
					document.getElementById('view' + next + 'YSpacing').value = document.getElementById('view' + next + 'XSpacing').value;
					document.getElementById('view' + next + 'ZSpacing').value = document.getElementById('view' + next + 'XSpacing').value;
					document.getElementById('view' + next + 'YNumPoints').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YSpacing').value;
					document.getElementById('view' + next + 'ZNumPoints').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZSpacing').value;
				}
				document.getElementById('view' + next + 'XNumPoints').value = document.getElementById('view' + next + 'XDim').value / document.getElementById('view' + next + 'XSpacing').value;
			}
			document.getElementById('view' + next + 'XNumPoints').onchange = function () {
				if (document.getElementById('boolView' + next + 'CubicCell').checked) {
					document.getElementById('view' + next + 'YNumPoints').value = document.getElementById('view' + next + 'XNumPoints').value;
					document.getElementById('view' + next + 'ZNumPoints').value = document.getElementById('view' + next + 'XNumPoints').value;
					document.getElementById('view' + next + 'YSpacing').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YNumPoints').value;
					document.getElementById('view' + next + 'ZSpacing').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZNumPoints').value;
				}
				document.getElementById('view' + next + 'XSpacing').value = document.getElementById('view' + next + 'XDim').value / document.getElementById('view' + next + 'XNumPoints').value;
			}

			document.getElementById('view' + next + 'YDim').onchange = function () {
				document.getElementById('view' + next + 'YSpacing').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YNumPoints').value;
			}
			document.getElementById('view' + next + 'ZDim').onchange = function () {
				document.getElementById('view' + next + 'ZSpacing').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZNumPoints').value;
			}
			document.getElementById('view' + next + 'YSpacing').onchange = function () {
				document.getElementById('view' + next + 'YNumPoints').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YSpacing').value;
			}
			document.getElementById('view' + next + 'ZSpacing').onchange = function () {
				document.getElementById('view' + next + 'ZNumPoints').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZSpacing').value;
			}
			document.getElementById('view' + next + 'YNumPoints').onchange = function () {
				document.getElementById('view' + next + 'YSpacing').value = document.getElementById('view' + next + 'YDim').value / document.getElementById('view' + next + 'YNumPoints').value;
			}
			document.getElementById('view' + next + 'ZNumPoints').onchange = function () {
				document.getElementById('view' + next + 'ZSpacing').value = document.getElementById('view' + next + 'ZDim').value / document.getElementById('view' + next + 'ZNumPoints').value;
			}




			for (var i = 0; i &lt; NUMBER3DVIEWS; i++) {
				var tempSpatiallyResolvedFormID = "view" + (i + 1) + "SpatiallyResolvedForm";
				if (document.getElementById('boolSpatiallyResolvedData').checked) {
					document.getElementById(tempSpatiallyResolvedFormID).style.display = "block";
				}
				else {
					document.getElementById(tempSpatiallyResolvedFormID).style.display = "none";
				}
			}

			for (var i = 0; i &lt; NUMBER3DVIEWS; i++) {
				var tempMolecularFormID = "view" + (i + 1) + "MolecularForm";
				if (document.getElementById('boolMolecularData').checked) {
					document.getElementById(tempMolecularFormID).style.display = "block";
				}
				else {
					document.getElementById(tempMolecularFormID).style.display = "none";
				}
			}

			/*
				$('.remove-me').click(function(e){
					e.preventDefault();
					var fieldNum = this.id.charAt(this.id.length-1);
					var fieldID = "#view" + fieldNum + "Form";
					console.log(fieldID)
					$(this).remove();
					$(fieldID).remove();
				});
				*/
		});
	});


	/**
	 * When boolSpatiallyResolvedData is selected
	 * @param  {} 'boolSpatiallyResolvedData'
	 */
	document.getElementById('boolSpatiallyResolvedData').onchange = function () {
		document.getElementById('propertyListSpatiallyResolved').disabled = !this.checked;
		document.getElementById('densityProperty').disabled = !this.checked;
		document.getElementById('densityCutoffLow').disabled = !this.checked;
		document.getElementById('densityCutoffUp').disabled = !this.checked;
		if (this.checked) {
			document.getElementById('propertyListSpatiallyResolvedForm').style.display = "block";
			document.getElementById('densityPropertyForm').style.display = "block";
			document.getElementById('densityCutoffLowForm').style.display = "block";
			document.getElementById('densityCutoffUpForm').style.display = "block";
		}
		else {
			document.getElementById('propertyListSpatiallyResolvedForm').style.display = "none";
			document.getElementById('densityPropertyForm').style.display = "none";
			document.getElementById('densityCutoffLowForm').style.display = "none";
			document.getElementById('densityCutoffUpForm').style.display = "none";
		}

		for (var i = 0; i &lt; NUMBER3DVIEWS; i++) {
			var tempSpatiallyResolvedFormID = "view" + (i + 1) + "SpatiallyResolvedForm";
			if (this.checked) {
				document.getElementById(tempSpatiallyResolvedFormID).style.display = "block";
			}
			else {
				document.getElementById(tempSpatiallyResolvedFormID).style.display = "none";
			}
		}

		if (document.getElementById('boolSpatiallyResolvedData').checked || document.getElementById('boolMolecularData').checked) {
			document.getElementById('formSubmitButton').disabled = false;
			document.getElementById('saveConfigButton').disabled = false;

		}
		else {
			document.getElementById('formSubmitButton').disabled = true;
			document.getElementById('saveConfigButton').disabled = true;
		}

	};
	/**
	 * When boolMolecularData is selected
	 * @param  {} 'boolMolecularData'
	 */
	document.getElementById('boolMolecularData').onchange = function () {
		document.getElementById('propertyListMolecular').disabled = !this.checked;
		if (this.checked) {
			document.getElementById('propertyListMolecularForm').style.display = "block";
		}
		else {
			document.getElementById('propertyListMolecularForm').style.display = "none";
		}

		for (var i = 0; i &lt; NUMBER3DVIEWS; i++) {
			var tempMolecularFormID = "view" + (i + 1) + "MolecularForm";
			if (this.checked) {
				document.getElementById(tempMolecularFormID).style.display = "block";
			}
			else {
				document.getElementById(tempMolecularFormID).style.display = "none";
			}
		}

		if (document.getElementById('boolSpatiallyResolvedData').checked || document.getElementById('boolMolecularData').checked) {
			document.getElementById('formSubmitButton').disabled = false;
			document.getElementById('saveConfigButton').disabled = false;
		}
		else {
			document.getElementById('formSubmitButton').disabled = true;
			document.getElementById('saveConfigButton').disabled = true;
		}

	};
	/**
	 * When boolFramedData is selected
	 * @param  {} 'boolFramedData'
	 */
	document.getElementById('boolFramedData').onchange = function () {
		document.getElementById('frameProperty').disabled = !this.checked;
		if (this.checked) {
			document.getElementById('framePropertyForm').style.display = "block";
		}
		else {
			document.getElementById('framePropertyForm').style.display = "none";
		}
	};


	document.getElementById('boolView1CubicCell').onchange = function () {
		document.getElementById('view1YDim').disabled = this.checked;
		document.getElementById('view1ZDim').disabled = this.checked;
		document.getElementById('view1YSpacing').disabled = this.checked;
		document.getElementById('view1ZSpacing').disabled = this.checked;
		document.getElementById('view1YNumPoints').disabled = this.checked;
		document.getElementById('view1ZNumPoints').disabled = this.checked;
	};

	document.getElementById('boolView1OrthogonalLattice').onchange = function () {
		document.getElementById('view1LatVec11').disabled = this.checked;
		document.getElementById('view1LatVec12').disabled = this.checked;
		document.getElementById('view1LatVec13').disabled = this.checked;
		document.getElementById('view1LatVec21').disabled = this.checked;
		document.getElementById('view1LatVec22').disabled = this.checked;
		document.getElementById('view1LatVec23').disabled = this.checked;
		document.getElementById('view1LatVec31').disabled = this.checked;
		document.getElementById('view1LatVec32').disabled = this.checked;
		document.getElementById('view1LatVec33').disabled = this.checked;
	};

	document.getElementById('view1XDim').onchange = function () {
		if (document.getElementById('boolView1CubicCell').checked) {
			document.getElementById('view1YDim').value = document.getElementById('view1XDim').value;
			document.getElementById('view1ZDim').value = document.getElementById('view1XDim').value;
			document.getElementById('view1YSpacing').value = document.getElementById('view1YDim').value / document.getElementById('view1YNumPoints').value;
			document.getElementById('view1ZSpacing').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZNumPoints').value;
		}
		document.getElementById('view1XSpacing').value = document.getElementById('view1XDim').value / document.getElementById('view1XNumPoints').value;
	}
	document.getElementById('view1XSpacing').onchange = function () {
		if (document.getElementById('boolView1CubicCell').checked) {
			document.getElementById('view1YSpacing').value = document.getElementById('view1XSpacing').value;
			document.getElementById('view1ZSpacing').value = document.getElementById('view1XSpacing').value;
			document.getElementById('view1YNumPoints').value = document.getElementById('view1YDim').value / document.getElementById('view1YSpacing').value;
			document.getElementById('view1ZNumPoints').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZSpacing').value;
		}
		document.getElementById('view1XNumPoints').value = document.getElementById('view1XDim').value / document.getElementById('view1XSpacing').value;
	}
	document.getElementById('view1XNumPoints').onchange = function () {
		if (document.getElementById('boolView1CubicCell').checked) {
			document.getElementById('view1YNumPoints').value = document.getElementById('view1XNumPoints').value;
			document.getElementById('view1ZNumPoints').value = document.getElementById('view1XNumPoints').value;
			document.getElementById('view1YSpacing').value = document.getElementById('view1YDim').value / document.getElementById('view1YNumPoints').value;
			document.getElementById('view1ZSpacing').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZNumPoints').value;
		}
		document.getElementById('view1XSpacing').value = document.getElementById('view1XDim').value / document.getElementById('view1XNumPoints').value;
	}

	document.getElementById('view1YDim').onchange = function () {
		document.getElementById('view1YSpacing').value = document.getElementById('view1YDim').value / document.getElementById('view1YNumPoints').value;
	}
	document.getElementById('view1ZDim').onchange = function () {
		document.getElementById('view1ZSpacing').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZNumPoints').value;
	}
	document.getElementById('view1YSpacing').onchange = function () {
		document.getElementById('view1YNumPoints').value = document.getElementById('view1YDim').value / document.getElementById('view1YSpacing').value;
	}
	document.getElementById('view1ZSpacing').onchange = function () {
		document.getElementById('view1ZNumPoints').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZSpacing').value;
	}
	document.getElementById('view1YNumPoints').onchange = function () {
		document.getElementById('view1YSpacing').value = document.getElementById('view1YDim').value / document.getElementById('view1YNumPoints').value;
	}
	document.getElementById('view1ZNumPoints').onchange = function () {
		document.getElementById('view1ZSpacing').value = document.getElementById('view1ZDim').value / document.getElementById('view1ZNumPoints').value;
	}



	if (document.getElementById("uploader_wrapper") != null) {

		const uploader = document.getElementById("uploader");
		const uploader_wrapper = document.getElementById("uploader_wrapper");
		uploader.addEventListener("change", handleFiles, false);

		const configForm = document.getElementById("form_wrapper");
		const divider = document.getElementById("divider");
		/**
		 * Saves view configuration to JSON file for future use
		 * @param  {} ".save-config"
		 * @param  {} .click(function(e
		 */
		$(".save-config").click(function (e) {
			const CONFIG = readInputForm();
			download(CONFIG, 'config.json', 'application/json');
		})
		/**
		 * Primary page submission event, enters ELectroLens visualization
		 * @param  {} "form"
		 * @param  {} .submit(function(event
		 */
		$("form").submit(function (event) {

			const CONFIG = readInputForm();
			console.log("read input form");
			event.preventDefault();

			handleViewSetup(CONFIG);
		});

	}
	else {
		console.log("error");
	}
}

/**
 * Function called by load config button
 * see: uploader.addEventListener("change", handleFiles, false);
 */
function handleFiles() {
	const file = this.files[0];
	$.ajax({
		url: file.path,
		dataType: 'json',
		type: 'get',
		cache: false,
		success: function (data) {
			console.log("read pre defined config");
			handleViewSetup(data);
		},
		error: function (requestObject, error, errorThrown) {
			alert(error);
			alert(errorThrown);
		}
	})
}
/**
 * Called either in form submit call or when view config is imported
 * @param  {} data
 */
function handleViewSetup(data) {
	// initializes loading bar
	document.getElementById("UI").innerHTML = `&lt;div id='loading_progress' class='card border-dark'  style='height: 50vh;'>
		&lt;div class='card-header'>&lt;h3>ElectroLens&lt;/h3>&lt;/div>
		&lt;div class='card-body'>
		&lt;div class='progress'>
			&lt;div class='progress-bar progress-bar-striped progress-bar-animated active' id='loading-progress' role='progressbar' style='width: 5%;'>&lt;/div>
		&lt;/div>&lt;/div>
		&lt;div id='loading-message'>&lt;/div>&lt;/div>`;
	const views = data.views;
	const plotSetup = data.plotSetup;
	initializeViewSetups(views, plotSetup);
	document.getElementById("loading-progress").style["width"] = "10%";
	main(views, plotSetup);

}

function main(views, plotSetup) {
	if (!Detector.webgl) Detector.addGetWebGLMessage();

	let container, stats, renderer, effect;
	let mouseX = 0, mouseY = 0;
	// var windowWidth, windowHeight;
	plotSetup.windowWidth = window.innerWidth;
	plotSetup.windowHeight = window.innerHeight;
	let clickRequest = false;
	let mouseHold = false;
	let mouseDrag = false;

	// var continuousSelection = false;

	let activeView = views[0];

	let showOptionBoxesBool = true;
	let overallSpatiallyResolvedData = [];
	let overallMoleculeData = [];

	//initializeViewSetups(views,plotSetup);


	const queue = d3.queue();
	let queueLength = 0;

	for (let ii = 0; ii &lt; views.length; ++ii) {
		let view = views[ii];
		view.plotSetup = plotSetup;

		if (plotSetup.frameProperty != null) {
			console.log("use MD mode");
			view.frameBool = true;
			view.frameProperty = plotSetup.frameProperty;
		}
		else {
			console.log("use normal mode");
			view.frameBool = false;
			view.frameProperty = "__frame__";
		}

		if (view.viewType == '3DView') {
			if (view.spatiallyResolvedData != null &amp;&amp; view.spatiallyResolvedData.data != null) {
				queue.defer(processSpatiallyResolvedData, view, plotSetup);
				queueLength++;
			}
			else if (view.spatiallyResolvedData != null &amp;&amp; view.spatiallyResolvedData.dataFilename != null) {
				queue.defer(readCSVSpatiallyResolvedData, view, plotSetup);
				queueLength++;
			}
			else {
				console.log('no spatially resolved data loaded');
			}

			if (view.moleculeData != null &amp;&amp; view.moleculeData.data != null) {
				queue.defer(processMoleculeData, view, plotSetup);
				queueLength++;
			}
			else if (view.moleculeData != null &amp;&amp; view.moleculeData.dataFilename != null) {
				queue.defer(readCSVMoleculeData, view, plotSetup);
				queueLength++;
			}
			else {
				console.log('no molecule data loaded');
			}
		}
	}
	console.log("count for queue length: " + queueLength.toString());
	queueLength = 90.0 / queueLength;
	// queueLength attribute is the percentage progress assigned to each queue item
	document.getElementById("loading-progress").setAttribute("queueLength", queueLength);

	queue.awaitAll(function (error) {
		if (error) throw error;

		combineData(views, overallSpatiallyResolvedData, overallMoleculeData);
		init();

		const htmlUI = document.getElementById("UI");
		htmlUI.parentNode.removeChild(htmlUI);
		render(views, plotSetup);
		animate();
	});


	function init() {

		console.log('started initialization')
		//const { UMAP } = require('umap-js');
		container = document.getElementById('container');
		renderer = new THREE.WebGLRenderer({ antialias: false, alpha: true, clearAlpha: 1, preserveDrawingBuffer: true });
		renderer.setPixelRatio(window.devicePixelRatio);
		renderer.setSize(window.innerWidth, window.innerHeight);
		//effect = new THREE.AnaglyphEffect( renderer );
		//effect.setSize( window.innerWidth , window.innerHeight);

		renderer.autoClear = false;

		renderer.shadowMap.enabled = true;
		renderer.shadowMapEnabled = true;
		renderer.shadowMapSoft = true;

		plotSetup.renderer = renderer;

		container.appendChild(renderer.domElement);

		plotSetup.active2DPlotSpatiallyResolved = null;
		plotSetup.active2DPlotMolecule = null;

		let defaultScalesSpatiallyResolvedData, defaultScalesMoleculeData;

		if (overallSpatiallyResolvedData.length > 0) {
			defaultScalesSpatiallyResolvedData = calcDefaultScalesSpatiallyResolvedData(plotSetup, overallSpatiallyResolvedData);
		}

		if (overallMoleculeData.length > 0) {
			defaultScalesMoleculeData = calcDefaultScalesMoleculeData(plotSetup, overallMoleculeData);
		}


		for (let ii = 0; ii &lt; views.length; ++ii) {
			let view = views[ii];

			view.overallSpatiallyResolvedData = overallSpatiallyResolvedData;
			view.overallMoleculeData = overallMoleculeData;

			if (view.frameBool) {
				if (view.systemMoleculeData != null &amp;&amp; view.systemMoleculeData.length > 0) {
					const frameValue = function (d) { return d[view.frameProperty]; }
					view.frameMin = d3.min(view.systemMoleculeData, frameValue);
					view.frameMax = d3.max(view.systemMoleculeData, frameValue);
					view.options.currentFrame = view.frameMin;
					console.log("starting frame, from molecule data ", view.options.currentFrame);
				}
				else {
					if (view.systemSpatiallyResolvedData != null &amp;&amp; view.systemSpatiallyResolvedData.length > 0) {
						const frameValue = function (d) { return d[view.frameProperty]; }
						view.frameMin = d3.min(view.systemSpatiallyResolvedData, frameValue);
						view.frameMax = d3.max(view.systemSpatiallyResolvedData, frameValue);
						view.options.currentFrame = view.frameMin;
						console.log("starting frame, from sp data ", view.options.currentFrame);
					}
					else {
						alert("error when calculating frame min and max, double check your input")
					}
				}
			}

			setupViewCameraSceneController(view, renderer);
			addOptionBox(view);
			setupHUD(view);

			view.controller.addEventListener('change', function (event) {
				render(views, plotSetup);
			});

			if (view.viewType == '3DView') {
				view.controller.autoRotate = false;
				view.options.plotID = "3D_View_" + ii;



				if (view.systemSpatiallyResolvedData != null &amp;&amp; view.systemSpatiallyResolvedData.length > 0) {

					view.systemSpatiallyResolvedDataBoolean = true;
					view.defaultScalesSpatiallyResolvedData = defaultScalesSpatiallyResolvedData;
					adjustColorScaleAccordingToDefaultSpatiallyResolvedData(view);
					getPointCloudGeometry(view);
					insertLegend(view);
				}
				if (view.systemMoleculeData != null &amp;&amp; view.systemMoleculeData.length > 0) {
					console.log("adding moleulce")
					view.systemMoleculeDataBoolean = true;
					view.defaultScalesMoleculeData = defaultScalesMoleculeData;
					adjustScaleAccordingToDefaultMoleculeData(view);
					arrangeMoleculeDataToFrame2(view);
					getMoleculeGeometry(view);
					//insertLegend(view);

				}

				setupOptionBox3DView(view, plotSetup);
				addSystemEdge(view);
				initialize3DViewTooltip(view);
			}
			if (view.viewType == '2DHeatmap') {

				view.controller.enableRotate = false;
				view.options.plotID = "2D_Plot_" + ii;


				if (overallSpatiallyResolvedData.length > 0) {
					view.overallSpatiallyResolvedDataBoolean = true;
				}
				if (overallMoleculeData.length > 0) {
					view.overallMoleculeDataBoolean = true;
				}

				initialize2DPlotTooltip(view);
				setupOptionBox2DHeatmap(view, plotSetup);

				addTitle(view);

			}

		}


		stats = new Stats();
		container.appendChild(stats.dom);

		container.addEventListener('mousemove', throttle(onDocumentMouseMove, 20), false);
		container.addEventListener('click', onDocumentMouseClick, false);
		container.addEventListener('mousedown', function (event) {
			mouseHold = true;
			if (event.button == 0) {
				clickRequest = true;
			}
		}, false);
		container.addEventListener('mouseup', function (event) {
			mouseHold = false;
			mouseDrag = false;
			if (event.button == 0) {
				if (activeView.viewType == '2DHeatmap') {
					if (activeView.options.planeSelection) {
						updatePlaneSelection(views, activeView);
						activeView.scene.remove(activeView.currentSelectionPlane);
						activeView.currentSelectionPlane = null;
					}
					if (activeView.options.brushSelection) {
						//updateBrushSelection(views,activeView);
						activeView.scene.remove(activeView.currentSelectionBrush);
						activeView.currentSelectionBrush = null;
					}
				}
			}
		}, false);

		window.addEventListener("keydown", onKeyDown, true);

	}



	//TODO add button interface 
	function onKeyDown(e) {
		if (e.keyCode == 72) { showHideAllOptionBoxes(views, showOptionBoxesBool); showOptionBoxesBool = !showOptionBoxesBool; }
		if (e.keyCode == 70) {
			for (let ii = 0; ii &lt; views.length; ++ii) {
				let view = views[ii];
				if (view.controllerEnabled) {
					view.options.toggleFullscreen.call();
				}
			}
			render(views, plotSetup);
		}
		if (e.keyCode == 76) {
			for (let ii = 0; ii &lt; views.length; ++ii) {
				let view = views[ii];
				if (view.controllerEnabled) { view.options.toggleLegend.call(); }
			}
			render(views, plotSetup);
		}
		if (e.keyCode == 49) {
			//planeSelection = !planeSelection;
			//pointSelection = false;
			activeView.options.planeSelection = !activeView.options.planeSelection;
			activeView.options.brushSelection = false;
			activeView.gui.updateDisplay();
		}
		if (e.keyCode == 50) {
			//pointSelection = !pointSelection;
			//planeSelection = false;
			activeView.options.brushSelection = !activeView.options.brushSelection;
			activeView.options.planeSelection = false;
			activeView.gui.updateDisplay();
		}
		if (e.keyCode == 107 || e.keyCode == 65) {
			const temp_view = { "viewType": "2DHeatmap" }
			temp_view.plotSetup = plotSetup;

			if (overallSpatiallyResolvedData.length > 0) {
				temp_view["plotXSpatiallyResolvedData"] = plotSetup.spatiallyResolvedPropertyList[0]
				temp_view["plotYSpatiallyResolvedData"] = plotSetup.spatiallyResolvedPropertyList[0]
				temp_view["plotXTransformSpatiallyResolvedData"] = "linear"
				temp_view["plotYTransformSpatiallyResolvedData"] = "linear"
			}
			if (overallMoleculeData.length > 0) {
				temp_view["plotXMoleculeData"] = plotSetup.moleculePropertyList[0]
				temp_view["plotYMoleculeData"] = plotSetup.moleculePropertyList[0]
				temp_view["plotXTransformMoleculeData"] = "linear"
				temp_view["plotYTransformMoleculeData"] = "linear"
			}


			views.push(temp_view);
			initialize2DHeatmapSetup(temp_view, views, plotSetup);
			temp_view.options.plotID = "2D_Plot_" + views.length;
			calculateViewportSizes(views);

			temp_view.overallSpatiallyResolvedData = overallSpatiallyResolvedData;
			temp_view.overallMoleculeData = overallMoleculeData;
			if (overallSpatiallyResolvedData.length > 0) {
				temp_view.overallSpatiallyResolvedDataBoolean = true;
			}
			if (overallMoleculeData.length > 0) {
				temp_view.overallMoleculeDataBoolean = true;
			}

			if (temp_view.overallSpatiallyResolvedDataBoolean == false) {
				temp_view.options.plotData = "moleculeData";
			}

			setupViewCameraSceneController(temp_view, renderer);
			addOptionBox(temp_view);
			setupHUD(temp_view);
			temp_view.controller.addEventListener('change', function (event) {
				render(views, plotSetup);
			});


			temp_view.controller.enableRotate = false;
			initialize2DPlotTooltip(temp_view);
			setupOptionBox2DHeatmap(temp_view, plotSetup);
			updateOptionBoxLocation(views);
			addTitle(temp_view)
			render(views, plotSetup);


			/*
			getAxis(temp_view);
			;
			arrangeDataToHeatmap(temp_view)
			getHeatmap(temp_view);
			addHeatmapLabels(temp_view);
			insertLegend(temp_view);*/

			//update2DHeatmapTitlesLocation(views);


		}
	}



	function updateActiveView(views) {
		for (let ii = 0; ii &lt; views.length; ++ii) {
			let view = views[ii];
			if (view.controllerEnabled) {
				return view;
			}
		}
	}



	function onDocumentMouseMove(mouseEvent) {
		mouseX = mouseEvent.clientX;
		mouseY = mouseEvent.clientY;
		for (let ii = 0; ii &lt; views.length; ++ii) {
			const view = views[ii];
			const left = Math.floor(plotSetup.windowWidth * view.left);
			const top = Math.floor(plotSetup.windowHeight * view.top);
			// var width  = Math.floor( windowWidth  * view.width ) + left;
			// var height = Math.floor( windowHeight * view.height ) + top;
			const vector = new THREE.Vector3();

			vector.set((((mouseEvent.clientX - left) / Math.floor(plotSetup.windowWidth * view.width)) * 2 - 1),
				(-((mouseEvent.clientY - top) / Math.floor(plotSetup.windowHeight * view.height)) * 2 + 1),
				0.1);
			vector.unproject(view.camera);
			const dir = vector.sub(view.camera.position).normalize();
			const distance = - view.camera.position.z / dir.z;
			view.mousePosition = view.camera.position.clone().add(dir.multiplyScalar(distance));
			// selectionControl(views, activeView, mouseHold);
		}

		if (mouseHold == false) {
			updateController(views, plotSetup.windowWidth, plotSetup.windowHeight, mouseX, mouseY);
			activeView = updateActiveView(views);
		}
		else {
			mouseDrag = true;
			processSelection();
			render(views, plotSetup);
			return;
		}



		for (let ii = 0; ii &lt; views.length; ++ii) {
			const view = views[ii];
			if (view.controllerEnabled) {
				if (view.viewType == "2DHeatmap") {
					if ((view.options.plotType == "Heatmap" || view.options.plotType == "Comparison"
						|| view.options.plotType == "PCA" || view.options.plotType == "Umap")
						&amp;&amp; typeof view.heatmapPlot != "undefined") {

						if (view.options.plotData == "spatiallyResolvedData") {
							const needsUpdate = hoverHeatmap(view, mouseEvent);
							if (needsUpdate) {
								console.log('updating plots');
								updateAllPlotsSpatiallyResolved(views);
							}
						} else if (view.options.plotData == "moleculeData") {
							const needsUpdate = hoverHeatmap(view, mouseEvent);
							if (needsUpdate) {
								console.log('updating plots');
								updateAllPlotsMolecule(views);
							}
						}
					}
					if (view.options.plotType == "Correlation" &amp;&amp; typeof view.covariancePlot != "undefined") {
						updateCovarianceTooltip(view);
					}
				} else if (view.viewType == "3DView") {
					if (view.systemMoleculeDataBoolean &amp;&amp; view.options.interactiveMolecule) {
						if (view.options.atomsStyle == "ball") {
							const pickingResult = gpuPickMolecule(view, renderer, view.scene, mouseEvent, plotSetup.windowWidth, plotSetup.windowHeight);
							const needsUpdate = hover3DViewMoleculeBall(view, plotSetup, pickingResult);
							if (needsUpdate) {
								updateAllPlotsMoleculeScale(views);
							}
						} else if (view.options.atomsStyle == "sprite") {
							const needsUpdate = hover3DViewMoleculeSprite(view, plotSetup, mouseEvent);
							if (needsUpdate) {
								updateAllPlotsMoleculeScale(views);
							}
						}
					}

					if (view.systemSpatiallyResolvedDataBoolean &amp;&amp; view.options.interactiveSpatiallyResolved) {
						const needsUpdate = hover3DViewSpatiallyResolved(view, plotSetup, mouseEvent);
						if (needsUpdate) {
							updateAllPlotsSpatiallyResolved(views);
						}
					}

				}
			}
		}
		render(views, plotSetup);
	}

	function onDocumentMouseClick(mouseEvent) {
		if (mouseDrag) {
			return;
		}

		for (let ii = 0; ii &lt; views.length; ++ii) {
			const view = views[ii];
			if (view.controllerEnabled) {
				if (view.viewType == "2DHeatmap") {
					if ((view.options.plotType == "Heatmap" || view.options.plotType == "Comparison"
						|| view.options.plotType == "PCA" || view.options.plotType == "Umap") &amp;&amp;
						typeof view.heatmapPlot != "undefined" &amp;&amp;
						!(view.options.planeSelection || view.options.brushSelection)) {
						if (view.options.plotData == "spatiallyResolvedData") {
							const needsUpdate = clickHeatmap(view, views);
							if (needsUpdate) {
								updateAllPlotsSpatiallyResolved(views);
							}
						} else if (view.options.plotData == "moleculeData") {
							const needsUpdate = clickHeatmap(view, views);
							if (needsUpdate) {
								updateAllPlotsMolecule(views);
							}
						}

						// updateHeatmapTooltip(view);
					}
				}
				else if (view.viewType == "3DView") {
					if (view.systemMoleculeDataBoolean &amp;&amp; view.options.interactiveMolecule) {
						const needsUpdate = click3DViewMolecule(view, views, plotSetup);
						if (needsUpdate) {
							updateAllPlotsMolecule(views);
						}
					}

					if (view.systemSpatiallyResolvedDataBoolean &amp;&amp; view.options.interactiveSpatiallyResolved) {
						const needsUpdate = click3DViewSpatiallyResolved(view, views, plotSetup);
						if (needsUpdate) {
							updateAllPlotsSpatiallyResolved(views);
						}
					}
				}
			}
		}
		render(views, plotSetup);
	}


	function animate() {
		// render();
		//processClick();
		// processSelection( );
		stats.update();

		requestAnimationFrame(animate);
	}




	function processSelection() {
		if (activeView != null) {
			if (activeView.viewType == '2DHeatmap') {
				selectionControl(views, activeView, mouseHold);
			}
		}
	}
}


export function render(views, plotSetup) {
	try {
		const renderer = plotSetup.renderer;
		updateSize(views, plotSetup);
		for (let ii = 0; ii &lt; views.length; ++ii) {

			const view = views[ii];

			const camera = view.camera;

			const width = Math.floor(plotSetup.windowWidth * view.width);
			const height = Math.floor(plotSetup.windowHeight * view.height);
			const left = Math.floor(plotSetup.windowWidth * view.left);
			const top = Math.floor(plotSetup.windowHeight * (1 - view.top) - height);
			// console.log('top', view.top,(1-view.top), top)

			view.windowLeft = left;
			view.windowTop = plotSetup.windowHeight * view.top;
			view.windowWidth = width;
			view.windowHeight = height;

			renderer.setViewport(left, top, width, height);
			renderer.setScissor(left, top, width, height);
			//renderer.clearDepth(); // important for draw fat line
			renderer.setScissorTest(true);
			renderer.setClearColor(0xffffff, 1); // border color
			renderer.clearColor(); // clear color buffer
			renderer.setClearColor(view.background, view.backgroundAlpha);
			//if (view.controllerEnabled) {renderer.setClearColor( view.controllerEnabledBackground );}
			//else {renderer.setClearColor( view.background );}

			if (view.options.cameraType === "perspective") {
				camera.aspect = width / height;
				camera.updateProjectionMatrix();
			}
			if (view.options.cameraType === "orthographic") {
				const aspect = width / height;
				camera.left = view.options.cameraFrustumSize * aspect / - 2;
				camera.right = view.options.cameraFrustumSize * aspect / 2;
				camera.top = view.options.cameraFrustumSize / 2;
				camera.bottom = - view.options.cameraFrustumSize / 2;

				camera.updateProjectionMatrix();

			}

			renderer.clear();
			renderer.render(view.scene, camera);
			//effect.render( view.scene, camera  );
			renderer.render(view.sceneHUD, view.cameraHUD);
		}
		// console.log('end render')
	}
	catch (err) {
		console.log('render error', err)
	}

}

function updateSize(views, plotSetup) {
	if (plotSetup.windowWidth != window.innerWidth || plotSetup.windowHeight != window.innerHeight) {
		plotSetup.windowWidth = window.innerWidth;
		plotSetup.windowHeight = window.innerHeight;
		plotSetup.renderer.setSize(plotSetup.windowWidth, plotSetup.windowHeight);

		for (let ii = 0; ii &lt; views.length; ++ii) {
			const view = views[ii];

			const width = Math.floor(plotSetup.windowWidth * view.width);
			const height = Math.floor(plotSetup.windowHeight * view.height);
			const left = Math.floor(plotSetup.windowWidth * view.left);
			const top = Math.floor(plotSetup.windowHeight * (1 - view.top) - height);

			view.windowLeft = left;
			view.windowTop = plotSetup.windowHeight * view.top;
			view.windowWidth = width;
			view.windowHeight = height;
		}

		updateOptionBoxLocation(views);
		update2DHeatmapTitlesLocation(views);
	}
}


function throttle(callback, interval) {
	let enableCall = true;

	return function (...args) {
		if (!enableCall) return;

		enableCall = false;
		callback.apply(this, args);
		setTimeout(() => enableCall = true, interval);
	}
}</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Tue Dec 01 2020 20:27:59 GMT-0800 (Pacific Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
